<!--<!DOCTYPE html>&ndash;&gt;-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>Redux</title>-->
<!--    <link href="https://fonts.googleapis.com/css2?family=Unica+One&display=swap" rel="stylesheet">-->
<!--    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">-->
<!--    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css' rel='stylesheet' />-->
<!--    <style>-->
<!--        * {-->
<!--            font-family: 'Unica One', cursive;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->

<!--&lt;!&ndash;navbar is here&ndash;&gt;-->
<!--<header>-->
<!--    <nav class="navbar navbar-expand-lg navbar-light bg-light">-->
<!--        <a class="navbar-brand" href="#"><i class="fas fa-binoculars"></i> Curious Weather</a>-->
<!--        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">-->
<!--            <span class="navbar-toggler-icon"></span>-->
<!--        </button>-->

<!--        <div class="collapse navbar-collapse" id="navbarTogglerDemo02">-->
<!--            <ul class="navbar-nav mr-auto mt-2 mt-lg-0">-->
<!--                <li class="nav-item active">-->
<!--                    <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>-->
<!--                </li>-->
<!--                <li class="nav-item">-->
<!--                    <a class="nav-link" href="#">Link</a>-->
<!--                </li>-->
<!--                <li class="nav-item">-->
<!--                    <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>-->
<!--                </li>-->
<!--            </ul>-->
<!--            <form class="form-inline my-2 my-lg-0">-->
<!--                <input class="form-control mr-sm-2" id="search-city" type="search" placeholder="Search City">-->
<!--                <button class="btn btn-outline-success my-2 my-sm-0" id="search-btn" type="submit">Find</button>-->
<!--            </form>-->
<!--        </div>-->
<!--    </nav>-->
<!--</header>-->

<!--<main>-->
<!--    <div class="container">-->
<!--        <div class="row justify-content-center">-->
<!--            &lt;!&ndash;website name and heading&ndash;&gt;-->
<!--            <h1>Curious Weather of ... </h1>-->
<!--            <h1 class="" id="city-name"></h1>-->
<!--        </div>-->
<!--        &lt;!&ndash;mapbox api will go here&ndash;&gt;-->
<!--        <div class="row" id="mapbox"></div>-->

<!--        &lt;!&ndash;weather icons will be generated in this div&ndash;&gt;-->
<!--        <div class="row justify-content-center" id="weather"></div>-->

<!--    </div>-->
<!--</main>-->

<!--&lt;!&ndash;Current Weather Conditions&ndash;&gt;-->
<!--<h3></h3>-->

<!--&lt;!&ndash;Temperature&ndash;&gt;-->
<!--<h3></h3>-->

<!--&lt;!&ndash;feels-like temp&ndash;&gt;-->
<!--<h5></h5>-->

<!--&lt;!&ndash;humidity&ndash;&gt;-->
<!--<h6></h6>-->

<!--&lt;!&ndash;main weather outlook&ndash;&gt;-->
<!--<p><span class="badge badge-light"></span></p>-->

<!--<script src="js/keys.js"></script>-->
<!--<script src="js/jquery-3.5.1.min.js"></script>-->
<!--<script src="https://kit.fontawesome.com/662caa46d6.js" crossorigin="anonymous"></script>-->
<!--<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>-->
<!--<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>-->
<!--<script>-->
<!--    "use strict";-->
<!--    (function(){-->
<!--        $(document).ready(function(){-->
<!--            // console.log("We are good!");-->
<!--            const url = "http://api.openweathermap.org/data/2.5/forecast";-->
<!--            let html = "";-->

<!--            $.get(url, {-->
<!--                "APPID": OPEN_WEATHER_APPID,-->
<!--                "q": "Dallas, TX, US",-->
<!--                "units": "imperial"-->
<!--            }).done(function(data){-->
<!--                for (let i = 0; i < data.list.length; i+=8) {-->
<!--                    html += "<div>";-->
<!--                        // "<p>"+data.list[i].dt_txt+"</p>";-->

<!--                    for (let j = 0; j < data.list[i].weather.length; j++) {-->
<!--                        html += "<h3>"+data.list[i].weather[j].description+"</h3>";-->
<!--                        switch ((data.list[i].weather[j].main).toLowerCase()) {-->
<!--                            case "clear":-->
<!--                                html += "      <img src=\"img/sunny-no-clouds.gif\" class=\"img-thumbnail\>";-->
<!--                                break;-->
<!--                            case "clouds":-->
<!--                                html += "      <img src=\"img/sunny-no-clouds.gif\" class=\"img-thumbnail\>";-->
<!--                                break;-->
<!--                            case "thunderstorm":-->
<!--                                html += "      <img src=\"img/sunny-no-clouds.gif\" class=\"img-thumbnail\>";-->
<!--                                break;-->
<!--                            case "drizzle":-->
<!--                                html += "      <img src=\"img/sunny-no-clouds.gif\" class=\"img-thumbnail\>";-->
<!--                                break;-->
<!--                            case "rain":-->
<!--                                html += "      <img src=\"img/sunny-no-clouds.gif\" class=\"img-thumbnail\>";-->
<!--                                break;-->
<!--                            case "snow":-->
<!--                                html += "      <img src=\"img/sunny-no-clouds.gif\" class=\"img-thumbnail\>";-->
<!--                                break;-->
<!--                            case "mist":-->
<!--                                html += "      <img src=\"img/sunny-no-clouds.gif\" class=\"img-thumbnail\>";-->
<!--                                break;-->
<!--                            case "smoke":-->
<!--                                html += "      <img src=\"img/sunny-no-clouds.gif\" class=\"img-thumbnail\>";-->
<!--                                break;-->
<!--                            case "haze":-->
<!--                                html += "      <img src=\"img/sunny-no-clouds.gif\" class=\"img-thumbnail\>";-->
<!--                                break;-->
<!--                            case "dust":-->
<!--                                html += "      <img src=\"img/sunny-no-clouds.gif\" class=\"img-thumbnail\>";-->
<!--                                break;-->
<!--                            case "sand":-->
<!--                                html += "      <img src=\"img/sunny-no-clouds.gif\" class=\"img-thumbnail\>";-->
<!--                                break;-->
<!--                            case "fog":-->
<!--                                html += "      <img src=\"img/sunny-no-clouds.gif\" class=\"img-thumbnail\>";-->
<!--                                break;-->
<!--                            case "ash":-->
<!--                                html += "      <img src=\"img/sunny-no-clouds.gif\" class=\"img-thumbnail\>";-->
<!--                                break;-->
<!--                            case "squall":-->
<!--                                html += "      <img src=\"img/sunny-no-clouds.gif\" class=\"img-thumbnail\>";-->
<!--                                break;-->
<!--                            case "tornado":-->
<!--                                html += "      <img src=\"img/sunny-no-clouds.gif\" class=\"img-thumbnail\>";-->
<!--                                break;-->

<!--                            default:-->
<!--                                html += "      <img src=\"img/sunny-no-clouds.gif\" class=\"img-thumbnail\>";-->
<!--                                break;-->
<!--                        };-->
<!--                    };-->

<!--                    html +=    "<h3><span class=\"badge\">Temp: </span>"+Math.floor(data.list[i].main.temp)+"°</h3>" +-->
<!--                        "<h5><span class=\"badge\">Feels Like: </span>"+Math.floor(data.list[i].main.feels_like)+"°</h5>" +-->
<!--                        "<h6><span class=\"badge\">Humidity: </span>"+data.list[i].main.humidity+"%</h6>" +-->
<!--                        "</div>";-->
<!--                }-->

<!--                $('#weather').append(html);-->
<!--            });-->
<!--        });-->
<!--    })();-->
<!--</script>-->


<!--</body>-->
<!--</html>-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Redux</title>
    <link href="https://fonts.googleapis.com/css2?family=Unica+One&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css' rel='stylesheet' />
    <style>
        * {
            font-family: 'Unica One', cursive;
        }
        #map {
            width: 75vw;
            height: 50vh;
        }
    </style>
</head>
<body>

<!--navbar is here-->
<header>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="#"><i class="fas fa-binoculars"></i> Curious Weather</a>
        <a class="navbar-brand" href="#"><i class="fas fa-location-arrow"></i> Current City: </a>
    </nav>
</header>

<main>
    <div class="container-fluid">
        <div class="row justify-content-center">
            <!--website name and heading-->
            <h1 class="col-12 text-center" id="city-name" ></h1>
        </div>
        <!--search bar and map will be here-->
        <div class="row">
            <div class="col-4 text-center border">
                <!--search city bar will be here-->
                <h4>Search City</h4>
                <form class="form">
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="inputGroup-sizing-default"><i class="fas fa-city"></i></span>
                        </div>
                        <input type="text" class="form-control" id="cityInput" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default">
                    </div>
                    <button class="btn btn-success btn-block my-2 my-sm-1 " id="citySubmit" type="submit"><i class="fas fa-search-location"></i> Find</button>
                </form>
            </div>
            <div class="col-8">
                <!--mapbox api will go here-->
                <div id="map"></div>
            </div>
        </div>

        <!--weather icons will be generated in this div-->
        <div class="row" id="weather"></div>

    </div>
</main>

<!--Current Weather Conditions-->
<h3></h3>

<!--Temperature-->
<h3></h3>

<!--feels-like temp-->
<h5></h5>

<!--humidity-->
<h6></h6>

<!--main weather outlook-->
<p><span class="badge badge-light"></span></p>




<!-- Mapbox JS -->
<script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.js'></script>
<script src="js/keys.js"></script>
<!--Most Recent JQuery-->
<script src="js/jquery-3.5.1.min.js"></script>
<!-- Mapbox Geocoder Util Methods -->
<script src="js/mapbox-geocoder-utils.js"></script>
<script src="https://kit.fontawesome.com/662caa46d6.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
<script>
    "use strict";
    (function(){
        $(document).ready(function(){
            // console.log("Good!");

            mapboxgl.accessToken = mapboxToken;
            let map = new mapboxgl.Map({
                container: 'map',
                style: 'mapbox://styles/mapbox/streets-v9', //specific stylesheet for map
                zoom: 13, //starting map zoom level
                center: [-96.80, 32.78] // starting position [lng, lat]
            });


            function getWeatherData (lng, lat){
                let url = "http://api.openweathermap.org/data/2.5/forecast";
                $.get(url, {
                    "APPID": OPEN_WEATHER_APPID,
                    "lon": lng,
                    "lat": lat,
                    "units": "imperial"
                }).done(function(data){
                    $('#city-name').text("Curious Weather of ... " + data.city.name);

                    let fiveDayForecast = [];
                    for (let i = 0; i < data.list.length; i+=8) {
                        fiveDayForecast.push(data.list[i]);
                    }
                });
            };



            // Search City Form Click Submit button
            $("#citySubmit").click(function (e) {
                e.preventDefault();
                let location = $("#cityInput").val().trim();
                if (location !== "") {
                    searchFor(location);
                    $("#cityInput").val("");
                }
            });

            // Search City form press the Enter key
            $("#cityInput").on("keypress", function(e) {
                if (e.keyCode === 13) {
                    e.preventDefault();
                    let location = $("#cityInput").val().trim();
                    if (location !== "") {
                        searchFor(location);
                        $("#cityInput").val("");
                    }
                }
            });

            function searchFor(searchStr) {

                geocode(searchStr, mapboxToken)
                    .then(function (result) {
                        getWeatherData(result[0], result[1]);
                        return result;
                    }).then(function (data) {
                    map.flyTo({center: data, zoom: 12});

                    let marker = new mapboxgl.Marker({
                        draggable: true})
                        .setLngLat(data)
                        .addTo(map);

                    function onDragEnd() {
                        let lngLat = marker.getLngLat();

                        getWeatherData(lngLat.lng, lngLat.lat);
                        map.flyTo({center: [lngLat.lng, lngLat.lat], zoom: 12});
                    }

                    marker.on('dragend', onDragEnd);
                });
            };

            searchFor("Dallas, TX");
        });
    })();



</script>


</body>
</html>