<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Weather Map | API</title>
    <link href="https://fonts.googleapis.com/css2?family=Unica+One&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <style>
        * {
            font-family: 'Unica One', cursive;
        }
    </style>
</head>
<body>
<header>
    <nav class="navbar navbar-light bg-light">
        <a class="navbar-brand" href="#"><i class="fas fa-binoculars"></i> Curious Weather</a>
<!--        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">-->
<!--            <span class="navbar-toggler-icon"></span>-->
<!--        </button>-->
        <div class="" id="navbarNav">
<!--            <div class="collapse navbar-collapse" id="navbarNav">-->
            <ul class="nav justify-content-end">
                <li class="nav-item">
                    <a class="nav-link active" href="#">Active</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Link</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Link</a>
                </li>
            </ul>
        </div>
    </nav>
</header>

<main class="main-content">
    <div class="container">
        <div class="row justify-content-center">
            <h1 class="">Curious Weather of ...</h1>
        </div>
        <div class="row" id="weather-outlook"></div>
    </div>
</main>


<script src="js/keys.js"></script>
<script src="js/jquery-3.5.1.min.js"></script>
<script src="https://kit.fontawesome.com/662caa46d6.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>

<script>
    (function(){
        $(document).ready(function(){
           console.log("Hello There I am Working");

           const url = "http://api.openweathermap.org/data/2.5/forecast";
           $.get(url, {
               "APPID": OPEN_WEATHER_APPID,
               "q": "Dallas, TX, US",
               "units": "imperial"
           }).done(function(data){
               console.log(data);
               console.log("City Name: ",data.city.name);
               console.log("Main-Weather Outlook: ",data.list[0].weather[0].main);
               console.log("Main-Weather Description: ",data.list[0].weather[0].description);
               console.log("Date-Time: ",data.list[0].dt_txt);
               console.log("feels-like: ",data.list[0].main.feels_like);
               console.log("humidity: ",data.list[0].main.humidity);
               console.log("main temperature: ",data.list[0].main.temp);
               console.log("high temperature: ",data.list[0].main.temp_max);
               console.log("low temperature: ",data.list[0].main.temp_min);
               console.log(data.list);

               let html = "";

               // for (let i = 0; i < data.list.length; i++) {
               //     html += "<div class=\"card col-3\">\n" +
               //         "    <img src=\"...\" class=\"card-img-top\" alt=\"...\">\n" +
               //         "    <div class=\"card-body\">\n" +
               //         "      <h5 class=\"card-title\">Card title</h5>\n" +
               //         "      <p class=\"card-text\">Feels Like: "+weather.main.feels_like+"</p>\n" +
               //         "      <p class=\"card-text\"> Humidity: "+weather.main.humidity+"</p>\n" +
               //         "      <p class=\"card-text\"> Main-Temp: "+weather.main.temp+"</p>\n" +
               //         "      <p class=\"card-text\"><small class=\"text-muted\"> Max-Temp: "+weather.main.temp_max+"</small></p>\n" +
               //         "      <p class=\"card-text\"><small class=\"text-muted\"> Min-Temp: "+weather.main.temp_min+"</small></p>\n" +
               //         "      <p class=\"card-text\"><small class=\"text-muted\"> Date and Hour: "+weather.dt_txt+"</small></p>\n" +
               //         "    </div>\n" +
               //         "  </div>"
               // };
               // }
               data.list.forEach(function(weather){
                   console.log(weather);
                   html += "<div class=\"card col-3\">\n" +
                       "    <img src=\"...\" class=\"card-img-top\" alt=\"...\">\n" +
                       "    <div class=\"card-body\">\n" +
                       "      <h5 class=\"card-title\">"+data.city.name+"</h5>\n" +
                       "      <p class=\"card-text\">Feels Like: "+Math.floor(weather.main.feels_like)+"째</p>\n" +
                       "      <p class=\"card-text\"> Humidity: "+weather.main.humidity+"%</p>\n" +
                       "      <p class=\"card-text\"> Main-Temp: "+Math.floor(weather.main.temp)+"째</p>\n" +
                       "      <p class=\"card-text\"><small class=\"text-muted\"> Max-Temp: "+Math.floor(weather.main.temp_max)+"째</small></p>\n" +
                       "      <p class=\"card-text\"><small class=\"text-muted\"> Min-Temp: "+Math.floor(weather.main.temp_min)+"째</small></p>\n" +
                       "      <p class=\"card-text\"><small class=\"text-muted\"> Date and Hour: "+weather.dt_txt+"</small></p>\n" +
                       "    </div>\n" +
                       "  </div>"
               });
               $('#weather-outlook').append(html);
           })
        });
    })();
</script>

</body>
</html>