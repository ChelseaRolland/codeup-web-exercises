<!DOCTYPE html>
<html>
<head>
    <title>Online Store</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <style>
        /*.sizing{*/
        /*    width: 50%;*/
        /*    height: 100%;*/
        /*}*/

    </style>
</head>
<body>

<h1 class="text-center">My Tool Store</h1>

<div class="text-center" id="products">
    <div class="text-center" id="insertProducts"></div>
    <button class="btn btn-primary" id="refresh">Refresh</button>
</div>

<!--<table id="products">-->
<!--    <thead>-->
<!--        <tr>-->
<!--            <th>Title</th>-->
<!--            <th>Quantity</th>-->
<!--            <th>Price</th>-->
<!--            <th>Categories</th>-->
<!--        </tr>-->
<!--    </thead>-->
<!--    <tbody class="text-center d-flex justify-content-around" id="insertProducts"></tbody>-->
<!--    <button id="refresh">Refresh</button>-->
<!--</table>-->

<!--<button id="refresh">Refresh</button>-->


<script src="js/jquery-3.5.1.min.js"></script>
<!--<script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>-->
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
<script src="data/inventory.json"></script>
<script>
(function() {
    "use strict";
    // TODO: Create an AJAX GET request for the file under data/inventory.json
    // $.get("data/inventory.json").done(function(){
    //     console.log("Hello!") --> see if it is working
    // })
    // TODO: Take the data from inventory.json and append it to the products table
    //       HINT: Your data should come back as a JSON object; use console.log() to inspect
    //             its contents and fields
    //       HINT: You will want to target #insertProducts for your new HTML elements
        let html = "";
        $.get("data/inventory.json").done(function(data){
            console.log(data);
            //sorting out each object from the array
            for (let i = 0; i < data.length; i++){
                console.log(data[i].title);
                console.log(data[i].quantity);
                console.log(data[i].categories[0]);
                console.log(data[i].categories[1]);
                console.log(data[i].categories[2]);
                console.log(data[i].price);

                // console.log(typeof data[i].categories[1])
                // console.log(typeof data[i].categories[2])

                console.log('categories array: ',data[i].categories.length);

                // <table id="products">
                // // html += "    <tr>\n" +
                // //     "        <td>"+data[i].title+"</td>\n" +
                // //     "        <td>"+data[i].quantity+"</td>\n" +
                // //     "        <td>"+"$"+data[i].price+"</td>\n" +
                // //     "        <td>"+data[i].categories[0]+"</td>\n" +
                // //     "        <td>"+data[i].categories[1]+"</td>\n" +
                // //     "        <td>"+data[i].categories[2]+"</td>\n" +
                // //     "    </tr>";
                // // //

                html += "<div class=\"card-group\">" +
                    "<div class=\"card test bg-light\" style=\"width: 18rem;\">\n"

                switch ((data[i].title).toLowerCase()) {
                    case "hammer":
                        html += "<img src=\"img/hammer.jpg\" class=\"card-img-top sizing\" alt=\"...\">";
                        break;
                    case "drill":
                        html += "<img src=\"img/drill.jpg\" class=\"card-img-top sizing\" alt=\"...\">";
                        break;
                    case "mower":
                        html += "<img src=\"img/riding-mower.jpg\" class=\"card-img-top sizing\" alt=\"...\">";
                        break;
                    case "screwdrivers":
                        html += "<img src=\"img/screwdriver.jpg\" class=\"card-img-top sizing\" alt=\"...\">";
                        break;
                    case "chainsaw":
                        html += "<img src=\"img/chainsaw.jpeg\" class=\"card-img-top sizing\" alt=\"...\">";
                        break;
                    case "water hose":
                        html += "<img src=\"img/waterhose.jpg\" class=\"card-img-top sizing\" alt=\"...\">";
                        break;
                    case "bug spray":
                        html += "<img src=\"img/bug-spray.jpg\" class=\"card-img-top sizing\" alt=\"...\">";
                        break;
                    default:
                        html += "<img src=\"https://media.giphy.com/media/Qw1acdtxOfrFDd2uti/giphy.gif\" class=\"card-img-top sizing\" alt=\"...\">";
                        break;
                }

                html +=    "    <div class=\"card-body\">\n" +
                    "      <h5 class=\"card-title\">"+data[i].title+"</h5>\n" +
                    "      <p class=\"card-text\">"+"$"+(data[i].price).toFixed(2)+"</p>\n" +
                    "      <p class=\"card-text\"><small class=\"text-muted\">Quantity: "+data[i].quantity+"</small></p>\n" +
                    "      <p class=\"card-text d-inline-block text-muted\">Categories: </p>\n"

                for (let j = 0; j < data[i].categories.length; j++) {
                    html += "<a href=\"#\" class=\"card-link ml-auto p-1 text-warning\">"+data[i].categories[j]+"</a>"
                        }

                html += "    </div>\n" +
                    "  </div>" +
                    "</div>"

            }
            $('#insertProducts').append(html);
        });

        $('#refresh').click(function(){
            $('body').load('#insertProducts');
        })

})();
</script>

</body>
</html>
